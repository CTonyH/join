<div class="task-card-container" (click)="onTaskClick($event)">
  <div class="inner-container">
    <p
      [ngClass]="{
      blue: task.category === 'User Story',
      green: task.category === 'Technical Task',
    }"
      class="card-category"
    >
      {{ task.category }}
    </p>
    <div>
      <p class="card-title">{{ task.title }}</p>
      <p class="card-description">
        {{ getShortDescription(task.description, 40) }}
      </p>
    </div>
    <div class="subtasks-container">
      <!-- TODO Fortschritsbalken , Inline STyle entfernen-->
      @if (task.subtasks && task.subtasks.length > 0) {
      <div class="progress-bar-container">
        <div class="custom-progress-bar">
          <div
            class="progress-fill"
            [style.width.%]="(getSubtasksDone() / getSubtaskLength()) * 100"
          ></div>
        </div>
        <div>
          <p>{{ getSubtasksDone() }}/{{ task.subtasks.length }} Subtask</p>
        </div>
      </div>
      }
      <!-- TODO Subtasks als Zahl laden -->
    </div>
    <div class="user-badges-prio-container">
      <!-- <p class="card-users">{{task.assignedTo}}</p> -->
      <div class="user-badges-container">
        <div class="user-badge1 badge">AS</div>
        <div class="user-badge2 badge">DE</div>
        <div class="user-badge3 badge">EF</div>
      </div>

      <img class="card-prio" [src]="getPriorityIcon()" alt="priority icon" />
    </div>
  </div>
</div>
